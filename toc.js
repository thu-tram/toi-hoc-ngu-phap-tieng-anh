// Populate the sidebar
//
// This is a script, and not included directly in the page, to control the total size of the book.
// The TOC contains an entry for each page, so if each page includes a copy of the TOC,
// the total size of the page becomes O(n**2).
class MDBookSidebarScrollbox extends HTMLElement {
    constructor() {
        super();
    }
    connectedCallback() {
        this.innerHTML = '<ol class="chapter"><li class="chapter-item expanded "><a href="tu-hoc-ngu-phap.html"><strong aria-hidden="true">1.</strong> Tự hoc ngữ pháp</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="truoc-khi-bat-dau.html"><strong aria-hidden="true">1.1.</strong> Trước khi bắt đầu</a></li><li class="chapter-item expanded "><a href="parts-of-speech.html"><strong aria-hidden="true">1.2.</strong> Từ loại</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Hiện tại và quá khứ</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="hien-tai-tiep-dien.html"><strong aria-hidden="true">2.1.</strong> Hiện tại tiếp diễn</a></li><li class="chapter-item expanded "><a href="hien-tai-don.html"><strong aria-hidden="true">2.2.</strong> Hiện tại đơn</a></li><li class="chapter-item expanded "><a href="htd-va-httd.html"><strong aria-hidden="true">2.3.</strong> Hiện tại đơn và thì hiện tại tiếp diễn</a></li><li class="chapter-item expanded "><a href="qua-khu-don.html"><strong aria-hidden="true">2.4.</strong> Quá khứ đơn</a></li><li class="chapter-item expanded "><a href="qua-khu-tiep-dien.html"><strong aria-hidden="true">2.5.</strong> Quá khứ tiếp diễn</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Hiện tại hoàn thành và quá khứ</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="hien-tai-hoan-thanh.html"><strong aria-hidden="true">3.1.</strong> Hiện tại hoàn thành</a></li><li class="chapter-item expanded "><a href="hien-tai-hoan-thanh-tiep-dien.html"><strong aria-hidden="true">3.2.</strong> Hiện tại hoàn thành tiếp diễn</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.3.</strong> how long have you (been)?</div></li><li class="chapter-item expanded "><a href="for-va-since.html"><strong aria-hidden="true">3.4.</strong> &#39;for&#39; và &#39;since&#39;</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.5.</strong> Hiện tại hoàn thành và quá khứ</div></li><li class="chapter-item expanded "><a href="qua-khu-hoan-thanh.html"><strong aria-hidden="true">3.6.</strong> Quá khứ hoàn thành</a></li><li class="chapter-item expanded "><a href="qua-khu-hoan-thanh-tiep-dien.html"><strong aria-hidden="true">3.7.</strong> Quá khứ hoàn thành tiếp diễn</a></li><li class="chapter-item expanded "><a href="have-have-got.html"><strong aria-hidden="true">3.8.</strong> &#39;have&#39; và &#39;have got&#39;</a></li><li class="chapter-item expanded "><a href="used-to.html"><strong aria-hidden="true">3.9.</strong> used to (do)</a></li></ol></li><li class="chapter-item expanded "><a href="tuong-lai-don.html"><strong aria-hidden="true">4.</strong> Tương lai</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="hien-tai-cho-tuong-lai.html"><strong aria-hidden="true">4.1.</strong> Các thì hiện tại cho tương lai</a></li><li class="chapter-item expanded "><a href="going-to.html"><strong aria-hidden="true">4.2.</strong> I’m going to (do)</a></li><li class="chapter-item expanded "><a href="will-va-shall.html"><strong aria-hidden="true">4.3.</strong> &#39;will&#39; và &#39;shall&#39;</a></li><li class="chapter-item expanded "><a href="will-going-to.html"><strong aria-hidden="true">4.4.</strong> &#39;will&#39; và &#39;going to&#39;</a></li><li class="chapter-item expanded "><a href="tuong-lai-tiep-dien-va-hoan-thanh.html"><strong aria-hidden="true">4.5.</strong> Tương lai tiếp diễn và tương lai hoàn thành</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.6.</strong> &#39;when I do&#39; và &#39;when I’ve done&#39;</div></li></ol></li><li class="chapter-item expanded "><a href="dong-tu-khuyet-thieu.html"><strong aria-hidden="true">5.</strong> Động từ khuyết thiếu</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="can-could-be-able-to.html"><strong aria-hidden="true">5.1.</strong> &#39;can&#39;, &#39;could&#39; và &#39;(be) able to&#39;</a></li><li class="chapter-item expanded "><a href="could-do-could-have-done.html"><strong aria-hidden="true">5.2.</strong> &#39;could (do)&#39; và &#39;could have (done)&#39;</a></li><li class="chapter-item expanded "><a href="may-might.html"><strong aria-hidden="true">5.3.</strong> &#39;may&#39; và &#39;might&#39;</a></li><li class="chapter-item expanded "><a href="must-have-to.html"><strong aria-hidden="true">5.4.</strong> &#39;have to&#39; và &#39;must&#39;</a></li><li class="chapter-item expanded "><a href="mustnt-va-neednt.html"><strong aria-hidden="true">5.5.</strong> &#39;mustn’t&#39; và &#39;needn’t&#39;</a></li><li class="chapter-item expanded "><a href="should-ought-to.html"><strong aria-hidden="true">5.6.</strong> &#39;should&#39; và &#39;ought to&#39;</a></li><li class="chapter-item expanded "><a href="would.html"><strong aria-hidden="true">5.7.</strong> would</a></li><li class="chapter-item expanded "><a href="can-could-would.html"><strong aria-hidden="true">5.8.</strong> can/could/would you?</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> &#39;if&#39; và &#39;wish&#39;</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="cau-dieu-kien.html"><strong aria-hidden="true">6.1.</strong> if I do, if I did</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> if I had known … I wish I had known …</div></li><li class="chapter-item expanded "><a href="cau-wish.html"><strong aria-hidden="true">6.3.</strong> wish</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Passive</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> is done / was done</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> be done / been done / being done</div></li><li class="chapter-item expanded "><a href="bi-dong.html"><strong aria-hidden="true">7.3.</strong> Passive</a></li><li class="chapter-item expanded "><a href="it-is-said-that.html"><strong aria-hidden="true">7.4.</strong> it is said that</a></li><li class="chapter-item expanded "><a href="have-something-done.html"><strong aria-hidden="true">7.5.</strong> have something done</a></li></ol></li><li class="chapter-item expanded "><a href="loi-noi-truc-tiep-va-gian-tiep.html"><strong aria-hidden="true">8.</strong> Reported speech</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Câu hỏi và auxiliary verbs</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="cau-hoi.html"><strong aria-hidden="true">9.1.</strong> Câu hỏi</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> Auxiliary verbs</div></li><li class="chapter-item expanded "><a href="cau-hoi-duoi.html"><strong aria-hidden="true">9.3.</strong> Câu hỏi đuôi</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> -ing và to …</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">10.1.</strong> Verb + -ing (enjoy doing / stop doing etc.)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.2.</strong> Verb + to … (decide to … / forget to … etc.)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.3.</strong> Verb (+ object) + to … (I want you to …)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.4.</strong> &#39;Verb + -ing&#39; hay &#39;to + verb&#39;</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.5.</strong> prefer và would rather</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.6.</strong> Giới từ (in/for/about etc.) + -ing</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.7.</strong> be/get used to … (I’m used to …)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.8.</strong> Verb + preposition + -ing (succeed in -ing / insist on -ing etc.)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.9.</strong> there’s no point in -ing, it’s worth -ing etc.</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.10.</strong> to … , for … và so that …</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.11.</strong> Adjective + to …</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.12.</strong> to … (afraid to do) và preposition + -ing (afraid of -ing)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.13.</strong> see somebody do và see somebody doing</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.14.</strong> -ing clauses (He hurt his knee playing football)</div></li></ol></li><li class="chapter-item expanded "><a href="danh-tu.html"><strong aria-hidden="true">11.</strong> Mạo từ và danh từ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="dem-duoc-khong-dem-duoc.html"><strong aria-hidden="true">11.1.</strong> Đếm được hay không đếm được?</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.2.</strong> Countable nouns with a/an và some</div></li><li class="chapter-item expanded "><a href="mao-tu.html"><strong aria-hidden="true">11.3.</strong> a/an và &#39;the&#39;</a></li><li class="chapter-item expanded "><a href="cach-dung-the.html"><strong aria-hidden="true">11.4.</strong> Có &#39;the&#39;, không có &#39;the&#39;</a></li><li class="chapter-item expanded "><a href="so-it-so-nhieu.html"><strong aria-hidden="true">11.5.</strong> Số ít - Số nhiều</a></li><li class="chapter-item expanded "><a href="danh-tu-danh-tu.html"><strong aria-hidden="true">11.6.</strong> Danh từ + Danh từ</a></li><li class="chapter-item expanded "><a href="so-huu-cach.html"><strong aria-hidden="true">11.7.</strong> Sở hữu</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.</strong> Pronouns và determiners</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="dai-tu-phan-than.html"><strong aria-hidden="true">12.1.</strong> myself/yourself/themselves etc.</a></li><li class="chapter-item expanded "><a href="on-my-own-by-myself.html"><strong aria-hidden="true">12.2.</strong> on my own / by myself</a></li><li class="chapter-item expanded "><a href="some-any.html"><strong aria-hidden="true">12.3.</strong> some và any</a></li><li class="chapter-item expanded "><a href="dai-tu-bat-dinh.html"><strong aria-hidden="true">12.4.</strong> no/none/any nothing/nobody etc.</a></li><li class="chapter-item expanded "><a href="dai-luong-cac-thu.html"><strong aria-hidden="true">12.5.</strong> much, many, little, few, a lot, plenty</a></li><li class="chapter-item expanded "><a href="both-either-neither.html"><strong aria-hidden="true">12.6.</strong> both / both of neither / neither of either / either of</a></li><li class="chapter-item expanded "><a href="all-every-whole.html"><strong aria-hidden="true">12.7.</strong> all, every, whole</a></li><li class="chapter-item expanded "><a href="each-every.html"><strong aria-hidden="true">12.8.</strong> each và every</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.</strong> Relative clauses</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">13.1.</strong> who/that/which</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.2.</strong> whose/whom/where</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.3.</strong> Thông tin thêm cho mệnh đề quan hệ</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.4.</strong> -ing và -ed clauses</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.</strong> Tính từ và Trạng từ</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="tinh-tu.html"><strong aria-hidden="true">14.1.</strong> Tính từ</a></li><li class="chapter-item expanded "><a href="trang-tu.html"><strong aria-hidden="true">14.2.</strong> Trạng từ</a></li><li class="chapter-item expanded "><a href="so-such.html"><strong aria-hidden="true">14.3.</strong> &#39;so&#39; và &#39;such&#39;</a></li><li class="chapter-item expanded "><a href="enough-too.html"><strong aria-hidden="true">14.4.</strong> &#39;enough&#39; và &#39;too&#39;</a></li><li class="chapter-item expanded "><a href="quite-pretty-rather-fairly.html"><strong aria-hidden="true">14.5.</strong> quite, pretty, rather và fairly</a></li><li class="chapter-item expanded "><a href="so-sanh-hon.html"><strong aria-hidden="true">14.6.</strong> So sánh hơn</a></li><li class="chapter-item expanded "><a href="so-sanh-ngang-bang.html"><strong aria-hidden="true">14.7.</strong> So sánh ngang bằng</a></li><li class="chapter-item expanded "><a href="so-sanh-hon-nhat.html"><strong aria-hidden="true">14.8.</strong> So sánh hơn nhất</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.9.</strong> Thứ tự từ</div></li><li class="chapter-item expanded "><a href="still-anymore-yet-already.html"><strong aria-hidden="true">14.10.</strong> still, any more, yet, already</a></li><li class="chapter-item expanded "><a href="even.html"><strong aria-hidden="true">14.11.</strong> even</a></li><li class="chapter-item expanded "><a href="trang-tu-lien-ket.html"><strong aria-hidden="true">14.12.</strong> Trạng từ liên kết</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> Liên từ và giới từ</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="lien-tu.html"><strong aria-hidden="true">15.1.</strong> Liên từ</a></li><li class="chapter-item expanded "><a href="gioi-tu.html"><strong aria-hidden="true">15.2.</strong> Giới từ</a></li><li class="chapter-item expanded "><a href="although-though-eventhough-in-spite-of-despite.html"><strong aria-hidden="true">15.3.</strong> although, though, even though, in spite of, despite</a></li><li class="chapter-item expanded "><a href="in-case.html"><strong aria-hidden="true">15.4.</strong> in case</a></li><li class="chapter-item expanded "><a href="unless-as-long-as-provided.html"><strong aria-hidden="true">15.5.</strong> unless, as long as, provided</a></li><li class="chapter-item expanded "><a href="like-as.html"><strong aria-hidden="true">15.6.</strong> like và as</a></li><li class="chapter-item expanded "><a href="during-while.html"><strong aria-hidden="true">15.7.</strong> during và while</a></li><li class="chapter-item expanded "><a href="by-va-until.html"><strong aria-hidden="true">15.8.</strong> by và until</a></li></ol></li><li class="chapter-item expanded "><a href="gioi-tu-in-on-at.html"><strong aria-hidden="true">16.</strong> at/on/in (time)</a></li><li class="chapter-item expanded "><a href="phrasal-verb-co-ban.html"><strong aria-hidden="true">17.</strong> Cụm động từ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cum-dong-tu-voi-in.html"><strong aria-hidden="true">17.1.</strong> in</a></li><li class="chapter-item expanded "><a href="cum-dong-tu-voi-out.html"><strong aria-hidden="true">17.2.</strong> out</a></li><li class="chapter-item expanded "><a href="cum-dong-tu-voi-on.html"><strong aria-hidden="true">17.3.</strong> on</a></li><li class="chapter-item expanded "><a href="cum-dong-tu-voi-off.html"><strong aria-hidden="true">17.4.</strong> off</a></li><li class="chapter-item expanded "><a href="cum-dong-tu-voi-up.html"><strong aria-hidden="true">17.5.</strong> up</a></li><li class="chapter-item expanded "><a href="cum-dong-tu-voi-down.html"><strong aria-hidden="true">17.6.</strong> down</a></li><li class="chapter-item expanded "><a href="cum-dong-tu-voi-away.html"><strong aria-hidden="true">17.7.</strong> away</a></li><li class="chapter-item expanded "><a href="cum-dong-tu-voi-back.html"><strong aria-hidden="true">17.8.</strong> back</a></li></ol></li></ol>';
        // Set the current, active page, and reveal it if it's hidden
        let current_page = document.location.href.toString();
        if (current_page.endsWith("/")) {
            current_page += "index.html";
        }
        var links = Array.prototype.slice.call(this.querySelectorAll("a"));
        var l = links.length;
        for (var i = 0; i < l; ++i) {
            var link = links[i];
            var href = link.getAttribute("href");
            if (href && !href.startsWith("#") && !/^(?:[a-z+]+:)?\/\//.test(href)) {
                link.href = path_to_root + href;
            }
            // The "index" page is supposed to alias the first chapter in the book.
            if (link.href === current_page || (i === 0 && path_to_root === "" && current_page.endsWith("/index.html"))) {
                link.classList.add("active");
                var parent = link.parentElement;
                if (parent && parent.classList.contains("chapter-item")) {
                    parent.classList.add("expanded");
                }
                while (parent) {
                    if (parent.tagName === "LI" && parent.previousElementSibling) {
                        if (parent.previousElementSibling.classList.contains("chapter-item")) {
                            parent.previousElementSibling.classList.add("expanded");
                        }
                    }
                    parent = parent.parentElement;
                }
            }
        }
        // Track and set sidebar scroll position
        this.addEventListener('click', function(e) {
            if (e.target.tagName === 'A') {
                sessionStorage.setItem('sidebar-scroll', this.scrollTop);
            }
        }, { passive: true });
        var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
        sessionStorage.removeItem('sidebar-scroll');
        if (sidebarScrollTop) {
            // preserve sidebar scroll position when navigating via links within sidebar
            this.scrollTop = sidebarScrollTop;
        } else {
            // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
            var activeSection = document.querySelector('#sidebar .active');
            if (activeSection) {
                activeSection.scrollIntoView({ block: 'center' });
            }
        }
        // Toggle buttons
        var sidebarAnchorToggles = document.querySelectorAll('#sidebar a.toggle');
        function toggleSection(ev) {
            ev.currentTarget.parentElement.classList.toggle('expanded');
        }
        Array.from(sidebarAnchorToggles).forEach(function (el) {
            el.addEventListener('click', toggleSection);
        });
    }
}
window.customElements.define("mdbook-sidebar-scrollbox", MDBookSidebarScrollbox);
